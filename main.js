"use strict";var _bettertimeout=require("@h2ml/bettertimeout");Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchDelay=void 0;const fetchDelay=async function(a){var b=Math.min;let c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const{minDelay:d=1e3,maxDelay:e=3e3,fetchOptions:f={}}=c;d>e&&console.debug("@h2ml/fetchMinMaxDelay: Passed minDelay greater than maxDelay. Using maxDelay for both.");const g=new AbortController,h=new _bettertimeout.Timeout(()=>g.abort(),e),[i]=await Promise.all([fetch(a,{...f,signal:g.signal}),new _bettertimeout.Timer({duration:b(d,e)}).start().done]);return h.clear(),i};exports.fetchDelay=fetchDelay;
